<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <div th:remove="tag" th:replace="~{/fragments/head :: head} "></div>
    <script defer src="/js/member-updatecart.js"></script>
    <title>회원 장바구니 조회</title>
</head>
<body>
   <header th:replace="~{/fragments/login-header :: header}"></header>

    <main>
        <div th:each="cartDTO, cartIndex : ${cartDTOList}">
            <div th:text="'장바구니 번호 : ' + ${cartDTO.cartNo}"></div>
            <input th:value ="${cartDTO.itemNo}" style="display:none;">
            <div th:text="'썸네일 : ' + ${cartDTO.itemThumbnail}"></div>
            <div th:text="'상품명 : ' + ${cartDTO.itemName}"></div>
            <div th:text="'상품 사이즈 : ' + ${cartDTO.itemSize}"></div>
            <div th:text="'상품 가격 : ' + ${cartDTO.itemPrice}"></div>
            <div th:text="'상품 총액 : ' + ${cartDTO.itemPriceSum}"></div>
            <div th:text="'주문 총액 : ' + ${cartDTO.orderPriceSum}"></div>
            상품 수량 <input th:id="'inputvalue_' + ${cartIndex.index}" th:value ="${cartDTO.itemQuantity}" readonly></input>
            <button th:id="'decreaseButton_' + ${cartIndex.index}"
                    th:index = "${cartIndex.index}"
                    th:cartNo = "${cartDTO.cartNo}"
                    th:memberNo = "${cartDTO.memberNo}"
                    th:itemNo = "${cartDTO.itemNo}"
                    th:itemSize = "${cartDTO.itemSize}"
                    th:onclick="updateQuantity(-1,
                                this.getAttribute('index'),
                                this.getAttribute('cartNo'),
                                this.getAttribute('memberNo'),
                                this.getAttribute('itemNo'),
                                this.getAttribute('itemSize'))"> - </button>
            <button th:id="'increaseButton_' + ${cartIndex.index}"
                    th:index = "${cartIndex.index}"
                    th:cartNo = "${cartDTO.cartNo}"
                    th:memberNo = "${cartDTO.memberNo}"
                    th:itemNo = "${cartDTO.itemNo}"
                    th:itemSize = "${cartDTO.itemSize}"
                    th:onclick="updateQuantity(1,
                                this.getAttribute('index'),
                                this.getAttribute('cartNo'),
                                this.getAttribute('memberNo'),
                                this.getAttribute('itemNo'),
                                this.getAttribute('itemSize'))"> + </button>
            <button th:id="'deleteButton_' + ${cartIndex.index}"
                    th:index = "${cartIndex.index}"
                    th:cartNo = "${cartDTO.cartNo}"
                    th:memberNo = "${cartDTO.memberNo}"
                    th:onclick="deleteCart(this.getAttribute('index'), this.getAttribute('cartNo'), this.getAttribute('memberNo'))"> 삭제 </button>
            <input class = "cartCheckbox" type = "checkbox">
            <hr>
        </div>
        <input id = "cartListAllCheckBtn" onclick="toggleAllCartCheckbox('cartCheckbox')" type = "checkbox" style="width: 20px; position: absolute; left: 23%;">
        <div style="position: absolute; left: 25%;" >전체 선택</DIV>
    </main>

    <footer>
        <form action = "carts/item_info_temp" method = "GET">
            <br><br><br><br><br><br>
            <button> 상품 상세 정보 페이지로 이동(임시)</button>
        </form>
    </footer>

</body>
</html>